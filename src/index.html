<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoraWriter Markdown Editor</title>
    <style>
      /* Critical inline to avoid initial flash before external CSS loads */
      html,body{margin:0;padding:0;height:100%}
      .splash-screen{position:fixed;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:9999;background:#4b6cb7;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff}
      /* Ensure logo and loader have proper size before external CSS */
      .splash-logo{width:80px;height:80px;margin-bottom:20px}
      .splash-title{font-size:28px;font-weight:700;margin:0 0 8px}
      .splash-subtitle{font-size:14px;opacity:.9;margin:0 0 20px}
      .splash-loader{width:36px;height:36px;border:3px solid rgba(255,255,255,.3);border-top:3px solid #fff;border-radius:50%;animation:spin 1s linear infinite}
      @keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
      body.loading .app-content{visibility:hidden}
    </style>
    <link rel="stylesheet" href="index.css">
  </head>
  <body class="loading">
    <!-- ÂêØÂä®ÁîªÈù¢ -->
    <div id="splashScreen" class="splash-screen">
      <svg class="splash-logo" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="100" height="100" rx="20" fill="white" fill-opacity="0.1"/>
        <path d="M25 35h50v8H25zM25 50h35v8H25zM25 65h45v8H25z" fill="white"/>
        <circle cx="75" cy="25" r="8" fill="white" fill-opacity="0.8"/>
      </svg>
      <h1 class="splash-title">SoraWriter</h1>
      <p class="splash-subtitle">Markdown Editor</p>
      <div class="splash-loader"></div>
    </div>

  <!-- Â∫îÁî®‰∏ª‰ΩìÂÜÖÂÆπ -->
  <div class="app-content">
    <!-- Ëá™ÂÆö‰πâÊ†áÈ¢òÊ†è -->
    <div class="custom-titlebar">
      <div class="titlebar-drag-region">
        <div class="titlebar-left">
          <img class="app-icon" alt="SoraWriter" width="16" height="16">
          <span class="app-title">SoraWriter</span>
        </div>
        <div class="titlebar-center">
          <span id="titlebarFileName"></span>
        </div>
        <div class="titlebar-right">
          <button id="settingsBtn" class="titlebar-btn settings-btn" title="ËÆæÁΩÆ">
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="3"></circle>
              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h0A1.65 1.65 0 0 0 9.91 3H10a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51h0a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v0A1.65 1.65 0 0 0 21 9.91V10a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/>
            </svg>
          </button>
          <button id="minimizeBtn" class="titlebar-btn minimize-btn" title="ÊúÄÂ∞èÂåñ">
            <svg width="12" height="12" viewBox="0 0 12 12">
              <rect x="2" y="5" width="8" height="2"/>
            </svg>
          </button>
          <button id="maximizeBtn" class="titlebar-btn maximize-btn" title="ÊúÄÂ§ßÂåñ">
            <svg width="12" height="12" viewBox="0 0 12 12">
              <rect x="2" y="2" width="8" height="8" stroke="currentColor" stroke-width="1" fill="none"/>
            </svg>
          </button>
          <button id="closeBtn" class="titlebar-btn close-btn" title="ÂÖ≥Èó≠">
            <svg width="12" height="12" viewBox="0 0 12 12">
              <path d="M2 2 L10 10 M10 2 L2 10" stroke="currentColor" stroke-width="1.5"/>
            </svg>
          </button>
        </div>
      </div>
    </div>
    
    <div class="container">
      <div class="sidebar">
        <div class="sidebar-panel">
          <div class="sidebar-header">
            <h2 id="filesTitle">Files</h2>
            <button id="newFileBtn" class="new-file-btn">+</button>
          </div>
          <ul id="fileList" class="file-list">
            <li class="file-item" data-file="welcome.md">welcome.md</li>
          </ul>
        </div>
        
        <div class="resizer" id="panelResizer"></div>
        
        <div class="sidebar-panel">
          <div class="sidebar-header">
            <h2 id="outlineTitle">Outline</h2>
          </div>
          <ul id="outlineList" class="outline-list">
            <!-- Â§ßÁ∫≤ÂÜÖÂÆπÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
          </ul>
        </div>
      </div>
      
      <!-- Â∑¶‰æßÊãñÊãΩÂàÜÈöîÊù° -->
      <div class="resizer" id="leftResizer"></div>
      
      <div class="main-editor">
        <div class="editor-header">
          <div class="editor-header-left">
            <span id="currentFileName">welcome.md</span>
            <span id="unsavedIndicator" class="unsaved hidden">*</span>
          </div>
          <div class="editor-header-right">
            <div class="preview-mode-buttons">
              <button id="splitViewBtn" class="mode-btn active" title="ÂàÜÂ±èÊ®°Âºè">‚öè</button>
              <button id="editViewBtn" class="mode-btn" title="ÁºñËæëÊ®°Âºè">üìù</button>
              <button id="previewViewBtn" class="mode-btn" title="È¢ÑËßàÊ®°Âºè">üëÅ</button>
            </div>
          </div>
        </div>
        <div class="editor-content">
          <div class="editor-panel">
            <textarea id="editor" placeholder="Start writing your markdown here..."></textarea>
          </div>
          <div class="editor-resizer" id="editorResizer"></div>
          <div class="preview-panel" id="previewPanel">
            <div id="preview" class="markdown-preview"></div>
          </div>
        </div>
      </div>
    </div>
    </div> <!-- ÁªìÊùü app-content -->
    <script src="renderer.js"></script>
  </body>
</html>